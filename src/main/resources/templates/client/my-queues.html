<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>qMe - Search Results</title>
    <th:block th:replace="fragments/sourcebundle.html :: mdbootstrap" />
</head>
<body>
    <div th:replace="fragments/layout.html :: mobile-navbar-modal"></div>

    <div class="m-4">

        <h4 class="font-weight-bold text-center mb-4">Your current queues</h4>

        <div class="row row-cols-1">
            <div class="col border border-info" th:each="dto : ${myQueueDtos}">
                <div class="row">
                    <div class="col-4 p-2 d-flex align-items-center">
                        <img class="img-fluid rounded" th:src="@{/images/logos/placeholder_image.png}">
                    </div>
                    <div class="col-8 p-2 d-flex align-items-center">
                        <div>
                            <p class="m-0 font-weight-bold" th:text="${dto.queueName}"></p>
                            <p class="m-0"><i class="fas fa-map-marker-alt pr-1"></i><span th:text="${dto.branchAddress}"></span></p>
                            <p class="m-0 font-weight-bold">Queue No.:
                                <span class="text-danger" th:if="${dto.state == dto.state.INACTIVE_MISSED}">Missed</span>
                                <span class="text-primary" th:if="${dto.state != dto.state.INACTIVE_MISSED}" th:text="${dto.queueNumber}"></span>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col d-flex align-items-center">
                        <div>
                            <p class="m-0"><i class="fas fa-users pr-1"></i><span th:text="|${dto.personsInFront} persons in front|"></span></p>
                            <p class="m-0"><i class="far fa-clock pr-1"></i><span th:text="|About ${dto.waitTime} mins wait|"></span></p>
                        </div>
                    </div>
                    <div class="col">
                        <button type="button" class="btn btn-primary rounded" th:if="${dto.state == dto.state.INACTIVE_MISSED}">Rejoin</button>
                        <button type="button" class="btn btn-primary rounded" th:if="${dto.state != dto.state.INACTIVE_MISSED}">Leave Queue</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>